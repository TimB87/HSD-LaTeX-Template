% !TEX root = ../../main.tex
\newpage

\section{Seitenaufbau in LaTeX}
\label{sec:seit-aufbau}
Der Seitenaufbau wird vollständing in der Präambel definiert, von der Seitengröße über die Abstände der Seitenränder bishin zu den Zitationsstilen sowie dem Inhaltsverzeichnis. Das macht den Umgang mit \gls{latex} für eine wissenschaftliche Arbeit so attraktiv. Grundsätzlich erlaubt es der Workflow von \gls{latex}, sich vollständig auf den Inhalt zu konzentrieren und so wenig wie nötig sich mit \glqq Design\grqq\ aufzuhalten.


Dieses Dokument nutzt die Dokumentenklasse scrreprt\footcite[S. 51]{kohmKOMA2019} aus dem Paket KOMA-Script. Diese hat sich für unseren Einsatzzweck bereits vielfach bewährt und sollte somit ein sicheres Mittel sein. Die Dokumentenklasse gibt an, um was für ein Dokument es sich handelt\footcite[vgl. ][S. 9]{oetikerIntroductionLATEX2e2018}.

\section{Funktionen von LaTeX}
\label{sec:funkt-von}
\subsection{Textformatierung}
\label{sec:textformat}
Da dies hier den Rahmen sprengen würde, möchte ich auf eine sehr gute, kostenfreie Einführung verweisen, welche Kompakt und gut verständlich die Feinheiten von \gls{latex} erklärt. Über sechs Kapitel wird dann angefangen bei der grundsätzlichen Struktur eines Dokumentes bis hin dazu, wie man Grundlegende Funktionen von \gls{latex} umschreibt\footcite{oetikerIntroductionLATEX2e2018}, und das alles auf 153 Seiten, kostenlos.

\begin{table}[htbp]
  \resizebox{\textwidth}{!}{% gently resize our table to fit the page
  \centering
    \begin{tabular}{|l|l|l|}
    \hline
    Befehl & Effekt & Anmerkung \\ \hline
    \textbackslash emph\{Befehl\} & \emph{Befehl} & Bevorzugt, wählt automatisch zwischen textbf und textit \\ \hline
    \textbackslash textbf\{Befehl\} & \textbf{Befehl} &  \\ \hline
    \textbackslash textit\{Befehl\} & \textit{Befehl} &  \\ \hline
    \textbackslash textsl\{Befehl\} & \textsl{Befehl} &  \\ \hline
    \textbackslash underline\{Befehl\} & \underline{Befehl} & Sollte angepasst werden, da das Standardverhalten \\ %\cline{1-2}
    & & womöglich ein unerwartetes Ergebnis produziert \\ \hline
    \end{tabular}%
  }
  \caption{Grundlegende Textformatierung}
  \label{tab:textformat}
\end{table}

Einige grundlegende Befehle findet man aber bereits in Tabelle~\ref{tab:textformat}.

\subsection{Mathematische Schreibumgebung}
\label{sec:math-umg}
Wenn man Code zwischen zwei Dollar Zeichen \$ \dots\ \$ schreibt, schreibt man in dem mathematischen Modus. Alles darin wird interpretiert und durch entsprechende Symbole ersetzt. Das Ergebnis spricht für sich.

$ SEW\footnote{Summe der Endwerte} (RF\footnote{Rückflüsse}) = \sum_{t=1}^{n} [ ( E_{t} - A_{t}) \times (1+i)\ ^{N-t}] $

$ SEW(RF) = 5\times1,1^{5}+10\times1,1^{4}+15\times1,1^{3}+10\times1,1^{2}+30\times1,1^{1}+35 = 122,76$

$ i_{m} = \sqrt[N]{\dfrac{SEW(RF)}{BW(IA)}} -1$

$ i_{m} = \sqrt[6]{\dfrac{122,76}{50}} -1 = 0,1615 \approx 16,15\%$

$ SEW(RF) = 186,72 $

$ i_{m} = 0,1097 \approx 10,97\%$

Der Code hierfür sieht wie folgt aus:
\begin{lstlisting}
$ SEW\footnote{Summe der Endwerte} (RF\footnote{Rückflüsse}) = \sum_{t=1}^{n} [ ( E_{t} - A_{t}) \times (1+i)\ ^{N-t}] $

$ SEW(RF) = 5\times1,1^{5}+10\times1,1^{4}+15\times1,1^{3}+10\times1,1^{2}+30\times1,1^{1}+35 = 122,76$

$ i_{m} = \sqrt[N]{\dfrac{SEW(RF)}{BW(IA)}} -1$

$ i_{m} = \sqrt[6]{\dfrac{122,76}{50}} -1 = 0,1615 \approx 16,15\%$

$ SEW(RF) = 186,72 $

$ i_{m} = 0,1097 \approx 10,97\%$
\end{lstlisting}

Grundsätzlich unterstützt \gls{latex} aber noch eine weitere Methode, mathematische Sequenzen darzustellen, z.B das sogenannte \glqq Displayed math \grqq\ .

\[
  \varphi = \frac{1 + \sqrt{5}}{2} = 1.618 \ldots
\]

Code:

\begin{lstlisting}
\[
  \varphi = \frac{1 + \sqrt{5}}{2} = 1.618 \ldots
\]
\end{lstlisting}

Man unterscheidet beide Methoden in 1) \emph{Inline math} und 2) \emph{Displayed math}\footcite[vgl. ][S.276]{kottwitzLaTeXCookbook902015}. \emph{Inline math} eignet sich, um Formeln im Text einzufügen, \emph{Displayed math} präsentiert die Formel in einer eigenen Zeile.
\gls{latex} bietet darüber hinaus noch sehr viel mehr Einstellmöglichkeiten, um Formeln besser darzustellen. Dazu lohnt sich ein Blick in geeignete Fachliteratur, wie zum Beispiel \footcite[vgl. ][S. 35ff]{gratzerMoreMathLATEX2016}

\subsection{Fußnoten}
\label{sec:footn}
Fußnoten werden über den Befehl \textbackslash footnote gesetzt und automatisch im Footer fortlaufend Nummeriert aufgeführt.\footnote{\href{https://de.wikibooks.org/wiki/LaTeX-W\%C3\%B6rterbuch:_footnote}{Mehr auf Wikibooks}}
\begin{lstlisting}
Fußnoten werden über den Befehl \footnote{Meine erste Fußnote} gesetzt und automatisch im Footer fortlaufend Nummeriert aufgeführt.\footnote{\href{https://de.wikibooks.org/wiki/LaTeX-W\%C3\%B6rterbuch:_footnote}{Mehr auf Wikibooks}}
\end{lstlisting}
Hiermit sollte man sparsam umgehen.

\subsection{Querverweise}
\label{sec:refs}
Leider scheinen Querverweise auf Grafiken gerade nicht zu funktionieren, ein Verweis auf Kapitel~\ref{sec:graphics} funktioniert aber. Ich werde mich der Sache zu einem anderen Zeitpunkt noch mal widmen.

Mal schauen ob ein Querverweis zu Code~\ref{bspcode} funktionieren. Tabelle~\ref{tab:textformat} funktioniert auch.

\subsection{Code}
\label{sec:code}
Code wird am Besten, genau wie eine Grafik (siehe Kapitel~\ref{sec:graphics}), in einer eigenen Umgebung eingefügt. Erstens kümmert sicht \gls{latex} nun selbstständig um die Platzierung, zweitens können wir dem \glqq Float \grqq\ ein Label verpassen, dass wir dann referenzieren können.

\lstset{language=Ruby}
\begin{lstlisting}[float=htpb,caption=Beispielcode,label=bspcode]
#!/usr/bin/env ruby

listofstrings = ARGV
puts listofstrings.sort.uniq
\end{lstlisting}

Der Code hierfür:
\begin{lstlisting}
\lstset{language=Ruby}
\textbackslash begin{lstlisting}[float=htpb,caption=Beispielcode,label=bspcode]
#!/usr/bin/env ruby

listofstrings = ARGV
puts listofstrings.sort.uniq
\textbackslash end{lstlisting}
\end{lstlisting}
Es ist möglich, die dargestellte Sprache anzupassen, das zeigt \textbackslash\{language=Ruby\}. Für das Beispiel musste ich aber die begin/end-Umgebung aufbrechen, da ansonsten der Compiler durcheinander kommt.

Sollte man diese Funktion gar nicht gebrauchen, kann man die letzten Zeilen in der Präambel dafür kommentieren, damit die Pakete nicht zwingend geladen werden müssen. Das sollte die Performance steigern und mögliche Kompatibilitätsschwierigkeiten, sofern vorhanden, zuvorkommen.

\subsection{Quellcode zitieren}
\label{sec:cite-code}

\subsection{Tabellen}
\label{sec:tables}
Tabellen lassen sich natürlich auch in \gls{latex} schreiben, allerdings gestaltet sich das auf den ersten Blick etwas umständlich. Als Beispiel dafür, die recht simple, Tabelle~\ref{tab:tab1}.
\begin{table}[htbp]
\begin{tabular}{|l|l|l|l|l|l|l|}
\hline
t & 0 & 1 & 2 & 3 & 4 & 5 \\ \hline
lfd. EZÜ & 262.500 & 352.450 & 455.395 & 572.871 & 706.628 & 858.656 \\ \hline
zstl. ZÜ &  & 89.950 & 192.895 & 310.371 & 444.128 & 596.156 \\ \hline
Barwerte & -550.000 & 84.065 & 168.482 & 253.355 & 338.823 & 425.051 \\ \hline
kumulierter Barwert & 719.776 &  &  &  &  &  \\ \hline
\end{tabular}
\caption{Eine einfache Tabelle}
\label{tab:tab1}
\end{table}

Der dazugehörige Code:
\begin{lstlisting}
\begin{table}[htbp]
\begin{tabular}{|l|l|l|l|l|l|l|}
\hline
t & 0 & 1 & 2 & 3 & 4 & 5 \\ \hline
lfd. EZÜ & 262.500 & 352.450 & 455.395 & 572.871 & 706.628 & 858.656 \\ \hline
zstl. ZÜ &  & 89.950 & 192.895 & 310.371 & 444.128 & 596.156 \\ \hline
Barwerte & -550.000 & 84.065 & 168.482 & 253.355 & 338.823 & 425.051 \\ \hline
kumulierter Barwert & 719.776 &  &  &  &  &  \\ \hline
\end{tabular}
\caption{Eine einfache Tabelle}
\label{tab:tab1}
\end{table}
\end{lstlisting}

Je nach gewünschtem Stil kann eine Tabelle noch sehr stark verändert werden. Dies schaut man besten ebenfalls in geeigneter Literatur nach, da es hier den Rahmen sprengen würde.
Ein genereller Tipp aber zum Thema Tabellen: nutzt ein externes Tool. Viele Editoren bringen Tools mit, um Tabellen einfacher zu erstellen. Ich finde folgende Webseite sehr gut \href{https://tablesgenerator.com}{https://tablesgenerator.com}.

\subsection{Grafiken}
\label{sec:graphics}
Grafiken werden von LaTeX dahin gesetzt, wo sie am besten hinpassen. Anhand von zwei beispielhaften Grafiken demonstrieren wir also, wie der freie Wille entscheidet. Da dieser sich im Laufe der Erstellung der Thesis immer wieder ändert, empfiehlt es sich, sich während des Schreibens des eigentlichen Textes sich nicht weiter mit der Platzierung von \glqq Floats \grqq\ aufzuhalten.

\begin{figure}[htbp]
  \centering
     \includegraphics[]{ProdKonsRentemitSteuern.pdf}
     \caption{Die Besteuerung eines Marktes}
     \label{fig:bild}
\end{figure}

Der Code für Beispielbild 1%~/ref{fig:bild}.
An dieser Stelle würde ich gerne mit \textbackslash ref das Bild referenzieren, leider funktioniert das aktuell noch nicht!

\begin{lstlisting}
\begin{figure}[htbp]
  \centering
     \includegraphics[]{ProdKonsRentemitSteuern.pdf}
  \caption{Die Besteuerung eines Marktes}
  \label{fig:bild}
\end{figure}
\end{lstlisting}

Eine zweite Grafik, für \gls{latex} zum rumschieben.

\begin{figure}[htbp]
  \centering
     \includegraphics[width=1\linewidth]{PMSteuer.pdf}
  \caption{Steueraufkommen}
  \label{fig:bild2}
\end{figure}

Hier schreibe ich noch mal etwas Text hin, der keinen Sinn ergibt, wenigstens zwangsläufig, immerhin soll \gls{latex} rund um meine beiden Beispielbilder etwas Text zu verarbeiten haben, damit der Leser/Anwender es später selbst etwas einfacher hat, sich das Konzept vor Augen zu führen.

Zusätzlich erhält dieser Block einen neuen Absatz. Das Thema Bienensterben ist ein ernstes Thema auf welches man an dieser Stelle aufmerksam machen kann, da sie sehr wichtig für das Ökosystem unseres Planeten sind.
\begin{lstlisting}
\begin{figure}[htbp]
  \centering
     \includegraphics[width=1\linewidth]{PMSteuer.pdf}
  \caption{Steueraufkommen}
  \label{fig:bild2}
\end{figure}
\end{lstlisting}
%Mit einfacher Optionen bringen wir \ac{latex} dazu, ~\ref{fig:Bild2} auf die passende Größe zu schrumpfen, ganz ohne weitere Eingriffe.

\subsection{Zitieren}
Zitation scheint mit eines der heikeligsten Angelegenheiten in einer Thesis zu sein. Um noch etwas mehr Flexibilität zu erhalten nutze ich hier die Arbeit aus folgender git repo \href{https://github.com/andygrunwald/FOM-LaTeX-Template}{FOM-LaTeX-Template von Andy Grunwald}.

Dieses Sektion wurde außerdem mit Hilfe der üblichen Internetadressen (vorwiegend \href{https://tex.stackexchange.com/}{TeX - LaTeX Stack Exchange}), aber auch einem Blick ins Handbuch von biblatex \footcite{lehman_biblatex_2017}, vorzugsweise in der englischen Originalfassung \footcite{kime_biblatex_2019}, da das Paket ständig überarbeitet wird und somit neue Optionen dazukommen, oder bekannte Optionen ersetzt werden, geschrieben.

Es sei zu erwähnen, das biber\footcite[][]{philip_kime_biber_2019} ebenfalls ein eigenes Handbuch hat, dass weiterhelfen kann!

Relevanter Code:
\lstinputlisting[firstline=91,lastline=113]{meta/preambel.tex}

In Tabelle ~\ref{tab:bib-style} will ich eine kleine Übersicht gestalten.

\begin{table}[htbp]
\centering
\resizebox{\textwidth}{!}{%
\begin{tabular}{l|l|l|}
\hline
\multicolumn{1}{|l|}{\textbf{Option}} & \textbf{Wert} & \textbf{\begin{tabular}[c]{@{}l@{}}nennenswerter \\ Effekt\end{tabular}} \\ \hline
\multicolumn{1}{|l|}{style} & numeric & \begin{tabular}[c]{@{}l@{}}Literatur wird numerisch im Verzeichnis\\ aufgeführt\end{tabular} \\ \hline
 & numeric-comp & \begin{tabular}[c]{@{}l@{}}Wie oben, aber mehrerer aufeinanderfolgende\\ Werke werden zusammengefasst\end{tabular} \\ \cline{2-3} 
 & alphabetic & \begin{tabular}[c]{@{}l@{}}Erstellt ein Kürzel des Autors und hängt eine\\ fortlaufende Ziffer dran (numeric Verhalten)\end{tabular} \\ \cline{2-3} 
 & authoryear & Sortiert nach Autor und Jahr \\ \cline{2-3} 
 & authoryear-comp & siehe oben \\ \cline{2-3} 
 & authoryear-ibid & setzt ein ebenda, bzw. ebd. \\ \cline{2-3} 
 & authoryear-icomp & vereint -comp und -ibid \\ \cline{2-3} 
 & authortitle & Sortiert nach Autor und Jahr \\ \cline{2-3} 
 & authortitle-comp & siehe oben \\ \cline{2-3} 
 & authortitle-ibid &  \\ \cline{2-3} 
 & authortitle-icomp &  \\ \cline{2-3} 
 & authortite-terse & \begin{tabular}[c]{@{}l@{}}Lässt den Titel aus, wenn der Author nur ein\\ Werk in unserem Literaturverzeichnis hat\end{tabular} \\ \cline{2-3} 
 & authortitle-tcomp & Vereint -comp und -terse \\ \cline{2-3} 
 & authortitle-ticomp & -comp, -ibid, -terse \\ \cline{2-3} 
\end{tabular}%
}
\caption{Einige Optionen zu verwendbaren Zitationsstilen}
\label{tab:bib-style}
\end{table}

\subsection{Verzeichnisse}
\label{sec:catalogs}
\gls{latex} macht es verhältnismäßig einfach, Verzeichnisse zu führen, das ist aber auch einer der Gründe, warum wir den \gls{latex}-Compiler mehrfach laufen lassen müssen (vgl. Listing~\ref{lst:arara-rules}). \gls{latex} erstellt bei den ersten Durchläufen Hilfsdateien, die dann ferner von anderen Tools aufgegriffen und verarbeitet werden. Bei dem nächsten Compileraufruf weiß \gls{latex} dann genau, wo es welche Verweise setzen muss. Dies geschieht nicht immer Fehlerfrei, deswegen ist ein prüfender Blick vor der Abgabe dennoch zu empfehlen.

\lstinputlisting[firstline=3,lastline=13,float=htpb,caption=arara regeln,label=lst:arara-rules]{main.tex}
Anbei sind folgende hier im Code verwendete erklärt.

\subsubsection{Inhaltsverzeichnis}
\label{sec:toc}
Ein Inhaltsverzeichnis wird einfach über \textbackslash tableofcontents eingefügt\footcite[vgl. ][S. 7ff]{ochsnerTextverarbeitungssystemLaTeXPraktische2015}.

\lstinputlisting[firstline=51,lastline=53,float=htpb,caption=Unser Inhaltsverzeichnis,label=lst:ourtoc]{main.tex}

Wie wir anhand von Listing~\ref{lst:ourtoc} in Zeile 2 sehen können, haben wir hier schon die Möglichkeit genutzt, die Tiefe des Inhaltsverzeichnisses anzupassen. Für weitere Optionen ist weiterführende Literatur empfehlenswert, mir hat das Werk von Schlosser gut weitergeholfen \footcite[vgl. ][S. 207ff.]{schlosserWissenschaftlicheArbeitenSchreiben2014}

\subsubsection{Abbildungsverzeichnis}
\label{sec:lof}
Abbildungen werden über \textbackslash listoffigures aufgelistet. Damit eine Abbildung im Verzeichnis aufgenommen werden, muss die \textbackslash begin\{figure\}\ldots end\{figure\}-Umgebung genutzt werden. Durch die darin genutzte Option \textbackslash caption\{ \ldots \} hat das Kind auch direkt einen Namen.

\subsubsection{Abkürzungsverzeichnis}
\label{sec:acros}
Das Abkürzungsverzeichnis wird über das Paket glossaries (siehe Kapitel~\ref{sec:glossaries}) erstellt. Die Definition geschieht in der Präambel~\ref{lst:our-acros}) geführt. Die Definition geschieht über meta/acro.tex.

\lstinputlisting[linerange={140-140,159-161},float=htpb,caption=Relavanter Code für das Abkürzungsverzeichnis,label=lst:our-acros]{meta/preambel.tex}

\subsubsection{Glossar}
\label{sec:glossaries}
Ein Glossar soll dem Leser Fachbegriffe näher bringen. In einem gesonderten Verzeichnis im Anhang werden die definierten Begriffe dann aufgelistet.

\lstinputlisting[linerange={140-140,147-153},float=htpb,caption=Relevanter Code für unser Glossar,label=lst:our-glo]{meta/preambel.tex}

Die Glossareinträge sind in meta/gls.tex definiert.

\subsubsection{Index}
\label{sec:xindy}
Schreiben sie von \index{Alpha}Alpha bis \index{Omega}Omega.

\begin{lstlisting}
Schreiben sie von \index{Alpha}Alpha bis \index{Omega}Omega.
\end{lstlisting}

Mit einem Index kann man Schlagworte und Themengruppen zusammenfassen und dem Leser helfen, diese im Dokument zu finden.

\lstinputlisting[linerange={140-140,154-157},float=htpb,caption=Relevanter Code für unseren Index,label=lst:our-idx]{meta/preambel.tex}
