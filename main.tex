% !TEX root = main.tex
% !TeX program = txs:///arara

%%% we use arara because it makes life easier
%%% arara should work on all platforms
% arara: lualatex: { draft: true, shell: true}
% arara: xindy: {modules: [texindy, page-ranges], codepage: utf8, language: german-duden}
% !arara: --> if changed('idx')
% arara: biber if missing('bbl') || found('log', 'Citation')
% arara: --> || found ('log', 'Please \\(re\\)run Biber')
% arara: makeglossaries if missing('gls') || changed('glo')
% arara: lualatex: { shell: true, synctex: true }
% arara: --> if found('log', 'No file ') || found('log', 'undefined references') || found('log', 'Rerun required') || found('log', 'Rerun to get cross-references')
% arara: lualatex: { shell: true, synctex: true }

%%% we source our input files to get a cleaner main.tex
\input{meta/preambel.tex} % to fragment
%input{meta/packages} % or not to fragment
%input{meta/macros} % that
%input{meta/hyphenations} % is the
%input{meta/options} % question

% bib resources
\addbibresource{literatur/literatur.bib}

% where to store your images
\graphicspath{{./}{./abbildungen/}}

% Meta information
\input{meta/authorinfo.tex}

% PDF Meta Data
\hypersetup{%
  pdfinfo={%
    Title={\myTitel},%
    Subject={\myStudiengang},%
    Author={\myAutor},%
    Build=1.1%
  }%
}

\begin{document}

\pagenumbering{Roman} % Roman page numbering style

\input{kapitel/titelseite/titelseite} % titlepage

\input{kapitel/anhang/sperrvermerk} % lock flag

\setcounter{page}{2} % manually set to page 2
%%% table of content
\setcounter{tocdepth}{3} % define toc depth
\tableofcontents
\newpage

%%% list of abbreviations

\printglossary[type=\acronymtype]
\newpage

% table of figures
%\listoffigures
{%
  \let\oldnumberline\numberline%
  \renewcommand{\numberline}{\figurename~\oldnumberline}% adds 'Figure' before the number
  \listoffigures%
}
\newpage

% table of tables
%\listoftables
{%
    \let\oldnumberline\numberline%
    \renewcommand{\numberline}{\tablename~\oldnumberline}% same as above for tables
    \listoftables%
}
\newpage

\makeatletter
\renewcommand\l@lstlisting[2]{\@dottedtocline{1}{0.6cm}{7em}{#1}{#2}}
\makeatother
\renewcommand{\lstlistingname}{}
\renewcommand{\lstlistlistingname}{Quellcodeverzeichnis}
\renewcommand*{\thelstlisting}{Quellcode~\arabic{lstlisting}}
\clearpage % notwendig sonst stimmt seitenzahl nicht
\lstlistoflistings
\newpage

\pagenumbering{arabic} % Arabic page numbering style
\setcounter{page}{1} % reset page counter

% this is where you write your text
\input{kapitel/einleitung/einleitung}
\input{kapitel/kapitel_1/kapitel_1}
\input{kapitel/kapitel_2/kapitel_2}
\input{kapitel/fazit/fazit}

\newpage % bibliography
\pagenumbering{Roman} % Change back to Roman page numbering style
\setcounter{page}{8}  % Change the number accordingly

%%% Glossaries
\printglossary[type=main]
\newpage

%%% print index
\addcontentsline{toc}{section}{Index}
\printindex
\newpage

\renewcommand{\refname}{Literaturverzeichnis} % rename "Literatur" to "Literaturverzeichnis"
\printbibliography
\newpage

\input{kapitel/anhang/erklaerung} % sworn declaration

%%% Original Author: Andy Grunwald
%%% https://github.com/andygrunwald/FOM-LaTeX-Template/blob/master/thesis_main.tex
%%% Alternative Darstellung:
%%% Literaturverzeichnis nach Typ (@book, @arcticle ...) sortiert.
%%% Dazu die Zeile (\printbibliography) auskommentieren und folgenden code verwenden:

%\printbibheading
%\printbibliography[type=article,heading=subbibliography,title={Artikel}]
%\printbibliography[type=book,heading=subbibliography,title={BÃ¼cher}]
%\printbibliography[type=online,heading=subbibliography,title={Webseiten}]

%\input{kapitel/anhang/erklaerung}
\end{document}
